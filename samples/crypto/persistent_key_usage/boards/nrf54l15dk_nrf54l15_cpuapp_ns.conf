# Copyright (c) 2024 Nordic Semiconductor ASA
# SPDX-License-Identifier: LicenseRef-Nordic-5-Clause

# Use our upstream configuration flag to disable MbedTLS dependency
CONFIG_TFM_CRYPTO_USES_MBEDTLS=n

# Since we're not using ITS with CRACEN, no need for ITS encryption
# CONFIG_TFM_ITS_ENCRYPTED is not needed when ITS is disabled

# Disable key derivation module when not using MbedTLS to avoid algorithm conflicts
CONFIG_TFM_CRYPTO_KEY_DERIVATION_MODULE_ENABLED=n

# For nRF54L: Use CRACEN with KMU for hardware key storage instead of software ITS
CONFIG_PSA_CRYPTO_DRIVER_CRACEN=y

# Disable PSA crypto storage to use KMU hardware storage instead
CONFIG_MBEDTLS_PSA_CRYPTO_STORAGE_C=n